{
  "goid": "ec64534ab3831482833fcbf8d181c3df",
  "guid": "4a2d41d6-1790-4f3b-bb21-3a7fc564afe4",
  "name": "Gateway GraphQL Management Service",
  "resolutionPath": "/graphman",
  "checksum": "f923bbb84adaddc9030c711c0c5e2a29689a72f6",
  "enabled": true,
  "folderPath": "/",
  "methodsAllowed": [
    "GET",
    "POST",
    "PUT",
    "DELETE"
  ],
  "tracingEnabled": false,
  "wssProcessingEnabled": true,
  "policy": {
    "xml": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<wsp:Policy xmlns:L7p=\"http://www.layer7tech.com/ws/policy\" xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2002/12/policy\">\n    <wsp:All wsp:Usage=\"Required\">\n        <wsp:OneOrMore wsp:Usage=\"Required\">\n            <L7p:SslAssertion>\n                <L7p:RequireClientAuthentication booleanValue=\"true\"/>\n            </L7p:SslAssertion>\n            <wsp:All wsp:Usage=\"Required\">\n                <L7p:SslAssertion/>\n                <L7p:HttpBasic/>\n            </wsp:All>\n            <L7p:assertionComment>\n                <L7p:Properties mapValue=\"included\">\n                    <L7p:entry>\n                        <L7p:key stringValue=\"RIGHT.COMMENT\"/>\n                        <L7p:value stringValue=\"~ enforce security checks\"/>\n                    </L7p:entry>\n                </L7p:Properties>\n            </L7p:assertionComment>\n        </wsp:OneOrMore>\n        <L7p:CustomizeErrorResponse>\n            <L7p:Content stringValue=\"${error_description}\"/>\n            <L7p:ExtraHeaders nameValuePairArray=\"included\"/>\n        </L7p:CustomizeErrorResponse>\n        <wsp:OneOrMore wsp:Usage=\"Required\">\n            <L7p:Authentication>\n                <L7p:IdentityProviderOid goidValue=\"0000000000000000fffffffffffffffe\"/>\n            </L7p:Authentication>\n            <wsp:All wsp:Usage=\"Required\">\n                <L7p:SetVariable>\n                    <L7p:Base64Expression stringValue=\"QXV0aGVudGljYXRpb24gZmFpbGVkLg==\"/>\n                    <L7p:VariableToSet stringValue=\"error_description\"/>\n                </L7p:SetVariable>\n                <L7p:FalseAssertion/>\n            </wsp:All>\n            <L7p:assertionComment>\n                <L7p:Properties mapValue=\"included\">\n                    <L7p:entry>\n                        <L7p:key stringValue=\"RIGHT.COMMENT\"/>\n                        <L7p:value stringValue=\"~ enforce authz\"/>\n                    </L7p:entry>\n                </L7p:Properties>\n            </L7p:assertionComment>\n        </wsp:OneOrMore>\n        <L7p:SetVariable>\n            <L7p:Base64Expression stringValue=\"RXJyb3IgZW5jb3VudGVyZWQgaW4gcHJvY2Vzc2luZyB0aGUgcmVxdWVzdC4gUGxlYXNlIGNoZWNrIHRoZSBTU0cgYXVkaXRzL2xvZ3MvYWRtaW5pc3RyYXRvciBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgcHJvYmxlbS4=\"/>\n            <L7p:VariableToSet stringValue=\"error_description\"/>\n        </L7p:SetVariable>\n        <L7p:CustomizeErrorResponse>\n            <L7p:Content stringValueReference=\"inline\"><![CDATA[{\n\"errors\": [\n    {\n        \"message\": \"${error_description}\"\n    }\n]\n}]]></L7p:Content>\n            <L7p:ContentType stringValue=\"application/json; charset=UTF-8\"/>\n            <L7p:ExtraHeaders nameValuePairArray=\"included\"/>\n            <L7p:HttpStatus stringValue=\"200\"/>\n        </L7p:CustomizeErrorResponse>\n        <wsp:OneOrMore wsp:Usage=\"Required\">\n            <L7p:EvaluateJsonPathExpressionV2>\n                <L7p:Expression stringValue=\"$.query\"/>\n                <L7p:VariablePrefix stringValue=\"graphqlQuery\"/>\n            </L7p:EvaluateJsonPathExpressionV2>\n            <wsp:All wsp:Usage=\"Required\">\n                <L7p:SetVariable>\n                    <L7p:Base64Expression stringValue=\"RXJyb3IgZW5jb3VudGVyZWQgaW4gcGFyc2luZyB0aGUgSlNPTiByZXF1ZXN0Lg==\"/>\n                    <L7p:VariableToSet stringValue=\"error_description\"/>\n                </L7p:SetVariable>\n                <L7p:FalseAssertion/>\n            </wsp:All>\n            <L7p:assertionComment>\n                <L7p:Properties mapValue=\"included\">\n                    <L7p:entry>\n                        <L7p:key stringValue=\"LEFT.COMMENT\"/>\n                        <L7p:value stringValue=\"extract query\"/>\n                    </L7p:entry>\n                </L7p:Properties>\n            </L7p:assertionComment>\n        </wsp:OneOrMore>\n        <wsp:OneOrMore wsp:Usage=\"Required\">\n            <L7p:EvaluateJsonPathExpressionV2>\n                <L7p:Expression stringValue=\"$.variables\"/>\n                <L7p:VariablePrefix stringValue=\"graphqlVars\"/>\n            </L7p:EvaluateJsonPathExpressionV2>\n            <L7p:TrueAssertion/>\n            <L7p:assertionComment>\n                <L7p:Properties mapValue=\"included\">\n                    <L7p:entry>\n                        <L7p:key stringValue=\"LEFT.COMMENT\"/>\n                        <L7p:value stringValue=\"extract variables\"/>\n                    </L7p:entry>\n                </L7p:Properties>\n            </L7p:assertionComment>\n        </wsp:OneOrMore>\n        <L7p:GatewayGraphQL>\n            <L7p:Query stringValue=\"${graphqlQuery.result}\"/>\n            <L7p:Variables stringValue=\"${graphqlVars.result}\"/>\n        </L7p:GatewayGraphQL>\n    </wsp:All>\n</wsp:Policy>\n"
  }
}